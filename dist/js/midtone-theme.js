InstantClick.on("change",function(){lazyload();for(var e=document.querySelectorAll("pre code"),t=0;t<e.length;t++)hljs.highlightBlock(e[t]);defaultStyle()}),$(document).ready(function(){hello(),postListStyle(),moblieMenu(),searchBar(),totopHelper(),titleFading(),hljs.initHighlighting(),ajaxComment(),ajaxCommentPage(),particleInit(),setPostImage(),postToc(),menublock(),commentShow()});var particleInit=function(){particlesJS("particles-bg",{particles:{number:{value:60,density:{enable:!0,value_area:2400}},color:{value:"#ff5555"},shape:{type:"circle",stroke:{width:0,color:"#f0f0ff"},polygon:{nb_sides:4},image:{src:"img/github.svg",width:200,height:200}},opacity:{value:.5,random:!0,anim:{enable:!0,speed:.1,opacity_min:.04,sync:!0}},size:{value:30,random:!0,anim:{enable:!0,speed:10,size_min:.5,sync:!1}},line_linked:{enable:!1,distance:500,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:1.5,direction:"top",random:!0,straight:!1,out_mode:"out",bounce:!0,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.5}},bubble:{distance:200,size:7,duration:.89,opacity:.8039564401783317,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})},setPostImage=function(){$("#post-article").find("img").parent().addClass("post-imgbox")},postToc=function(){function e(e,t){var n=document.createElement("a");return n.setAttribute("href",e),n.innerHTML=t,n}try{!function(t){var n=0,a=0,o=0,i=document.createElement("h1");i.innerHTML="目录",i.className="index-name",t.appendChild(i),t=t.appendChild(document.createElement("ul")),t.className="toclist";for(var l=document.getElementById("post-article").querySelectorAll("h1, h2, h3"),s=0;s<l.length;++s){var c=l[s];if("index-name"!=c.className){var r=c.nodeName.toLowerCase();if("h3"==r){1==++o&&t.lastChild.lastChild.lastChild.appendChild(document.createElement("ul"));var m=n+"."+a+"."+o;c.id="section"+m,t.lastChild.lastChild.lastChild.lastChild.appendChild(document.createElement("li")).appendChild(e("#section"+m,c.innerHTML))}else if("h2"==r){++a,o=0,1==a&&t.lastChild.appendChild(document.createElement("ul"));var m=n+"."+a;c.id="section"+m,t.lastChild.lastChild.appendChild(document.createElement("li")).appendChild(e("#section"+m,c.innerHTML))}else if("h1"==r){++n,a=0,o=0;var m=n;c.id="section"+m,t.appendChild(h2item=document.createElement("li")).appendChild(e("#section"+m,c.innerHTML))}}}if(indexelements=t.getElementsByTagName("li"),0==indexelements.length){var t=document.getElementById("toc");t.parentNode.removeChild(t)}}(document.getElementById("toc"))}catch(e){var t=document.getElementById("toc");void 0!==t&&null!=t&&document.getElementById("toc").remove()}},commentShow=function(){$("#comments .comment-cover").on("click",function(){$(this).addClass("fadeOut"),$("#comment-form .comment-inputcontent").addClass("highfree"),$("#textarea").focus(),$("#comment-input-secondary").addClass("fadeIn animation-delay")}),$("#comment-main .comment-reply a").on("click",function(){$("#comment-main .comment-cover").addClass("fadeOut"),$("#comment-form .comment-inputcontent").addClass("highfree"),$("#textarea").focus(),$("#comment-input-secondary").addClass("fadeIn animation-delay")}),$("#pagenavi .next a").hover(function(){$(".page-next-link").toggleClass("page-link-loaded")}),$("#pagenavi .prev a").hover(function(){$(".page-prev-link").toggleClass("page-link-loaded")})},ajaxComment=function(){$("#comment-input-secondary .comment-submit button").on("click",function(){if($("#comment-input-secondary .comment-submit button").attr("disabled",!0),$(".comment-name,.comment-mail,.comment-inputcontent").removeClass("warning"),$("#comment-input-secondary").find("#author")[0]){if(""==$(".comment-name").find("#author").val())return $(".comment-name").addClass("warning"),n(),e(),!1;if(""==$(".comment-mail").find("#mail").val())return $(".comment-mail").addClass("warning"),n(),e(),!1;if(!/^[^@\s<&>]+@([a-z0-9]+\.)+[a-z]{2,4}$/i.test($(".comment-mail").find("#mail").val()))return $(".comment-mail").addClass("warning"),n(),e(),!1;e()}if(""==$(".comment-inputcontent").find("#textarea").val())return $(".comment-inputcontent").addClass("warning"),n(),e(),!1}),$("#comment-form").submit(function(){return $("#comment-input-secondary .comment-submit button").attr("disabled",!0),$("#loading").removeClass().addClass("fadeIn"),$.ajax({url:$(this).attr("action"),type:$(this).attr("method"),data:$(this).serializeArray(),error:function(){return $msg.text("提交失败,请重试!"),msg_effect("#error"),!1},success:function(n){try{if($(n).index("<html>")<0)$("#loading").removeClass().addClass("fadeOut"),$("#toosoon").removeClass().addClass("fadeIn"),t(),e();else{var n=$(n).find("#comments .comment-list li").first().addClass("fadeIn");$("#comments .comment-list").prepend(n),$("#loading").removeClass().addClass("fadeOut"),e()}}catch(e){console.log("Error!\n\n"+e),window.location.reload()}}}),!1});var e=function(){$("#comment-input-secondary .comment-submit button").removeAttr("disabled")},t=function(){$("#toosoon").on("click",function(){$(this).removeClass().addClass("fadeOut")})},n=function(){$("#comment-form input,#comment-form textarea").focus(function(){$(this).parent(".input-text").removeClass("warning")})}},ajaxCommentPage=function(){var e=$("#comment-main"),t=!1;$("#comment-main .page-navigator li a").on("click",function(n){n.preventDefault();var a=$(this);if(!a.parent().hasClass("current")&&1!=t){var o=($(".comment-list"),a.attr("href").replace("#comment-main","")+"?action=ajax_comments");return $.ajax({url:o,beforeSend:function(){t=!0},success:function(n){e.html(n),t=!1}}),!1}})},lazyload=function(){$("img.lazy").lazyload({load:function(){$(this).removeClass("lazy").addClass("lazy-loaded")}})},menublock=function(){var e,t,n;$("#nav-menu").append('<span class="block"></span>');var a=$(".block"),o=$("#nav-menu").has(".current").length,i=function(){if(!o)return!1;a.width($("#nav-menu .current").width()).css("left",$("#nav-menu .current a").position().left).data("rightLeft",a.position().left).data("rightWidth",a.width()),$("#nav-menu li").find("a").hover(function(){e=$(this),t=e.position().left,n=e.parent().width(),a.stop().animate({left:t,width:n},400)},function(){a.stop().animate({left:a.data("rightLeft"),width:a.data("rightWidth")},400)})};$(window).resize(function(){i()}),i()},postListStyle=function(){$("#post-style .post-style-lines").on("click",function(){$(this).addClass("currentstyle").siblings().removeClass("currentstyle"),$(".post-article").parent().removeClass().addClass("midtone-post col-12 col-md-12");localStorage.setItem("list_style","midtone-post col-12 col-md-12"),localStorage.setItem("list_current",!1)}),$("#post-style .post-style-cubes").on("click",function(){$(this).addClass("currentstyle").siblings().removeClass("currentstyle"),$(".post-article").parent().removeClass().addClass("post-cube col-4 col-mb-6");localStorage.setItem("list_style","post-cube col-4 col-mb-6"),localStorage.setItem("list_current",!0)})},defaultStyle=function(){var e=localStorage.getItem("list_style"),t=localStorage.getItem("list_current");if(!e)return!1;$(".post-article").parent().removeClass().addClass(e),"true"==t?$("#post-style .post-style-cubes").addClass("currentstyle").siblings().removeClass("currentstyle"):$("#post-style .post-style-lines").addClass("currentstyle").siblings().removeClass("currentstyle")},titleFading=function(){var e=$("#fading"),t=$("#totop");$(window).bind("scroll",function(){var n=$(document).scrollTop(),a=0;n<=15?a=1:n<=250&&(a=1-n/250),e.css("opacity",a),n>=300?t.removeClass().addClass("fadeIn"):t.removeClass().addClass("fadeOut")})},totopHelper=function(){$("#totop .totop-btn").on("click",function(){$("body,html").animate({scrollTop:0},600)}),$("#totop .article-qr").hover(function(){$(".article-qrbody").toggleClass("fadeIn")})},searchBar=function(){$("#search-bar a").on("click",function(){$("#site-search").removeClass().addClass("fadeIn"),$("#site-search input").focus()}),$("#site-search .search-close").on("click",function(){$("#site-search").removeClass().addClass("fadeOut"),$("#mb-navigation .button-toggle-navigation,.mb-nav-menu").removeClass("isActive").removeClass("slideDown")})},moblieMenu=function(){$("#mb-navigation .button-toggle-navigation").on("click",function(){$(this).toggleClass("isActive"),$(".mb-nav-menu").toggleClass("slideDown")})},hello=function(){$(document).keydown(function(){123==event.keyCode&&(console.clear(),console.log("theme design and code with <3 by mizodo."),console.log("for more infomation click https://blog.mizodo.com"))})};